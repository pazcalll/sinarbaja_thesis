        <!-- Core  -->
        <script src="{{ asset('public/themeforest/global/vendor/babel-external-helpers/babel-external-helpers.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/jquery/jquery.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/popper-js/umd/popper.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/bootstrap/bootstrap.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/animsition/animsition.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/mousewheel/jquery.mousewheel.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/asscrollbar/jquery-asScrollbar.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/asscrollable/jquery-asScrollable.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/ashoverscroll/jquery-asHoverScroll.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/waves/waves.js') }}"></script>

        <!-- Plugins -->
        <script src="{{ asset('public/themeforest/global/vendor/switchery/switchery.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/intro-js/intro.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/screenfull/screenfull.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/slidepanel/jquery-slidePanel.js') }}"></script>
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/matchheight/jquery.matchHeight-min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/peity/jquery.peity.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net/jquery.dataTables.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-bs4/dataTables.bootstrap4.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-fixedheader/dataTables.fixedHeader.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-fixedcolumns/dataTables.fixedColumns.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-rowgroup/dataTables.rowGroup.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-scroller/dataTables.scroller.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-responsive/dataTables.responsive.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-responsive-bs4/responsive.bootstrap4.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-buttons/dataTables.buttons.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-buttons/buttons.html5.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-buttons/buttons.flash.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-buttons/buttons.print.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-buttons/buttons.colVis.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datatables.net-buttons-bs4/buttons.bootstrap4.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/asrange/jquery-asRange.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/bootbox/bootbox.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/select2/select2.full.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/bootstrap-tokenfield/bootstrap-tokenfield.min.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/bootstrap-tagsinput/bootstrap-tagsinput.min.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/bootstrap-select/bootstrap-select.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/icheck/icheck.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/switchery/switchery.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/asrange/jquery-asRange.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/ionrangeslider/ion.rangeSlider.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/asspinner/jquery-asSpinner.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/clockpicker/bootstrap-clockpicker.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/ascolor/jquery-asColor.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/asgradient/jquery-asGradient.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/ascolorpicker/jquery-asColorPicker.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/bootstrap-maxlength/bootstrap-maxlength.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/jquery-knob/jquery.knob.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/bootstrap-touchspin/bootstrap-touchspin.min.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/jquery-labelauty/jquery-labelauty.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/bootstrap-datepicker/bootstrap-datepicker.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/timepicker/jquery.timepicker.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datepair/datepair.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/datepair/jquery.datepair.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/jquery-strength/password_strength.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/jquery-strength/jquery-strength.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/multi-select/jquery.multi-select.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/typeahead-js/bloodhound.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/typeahead-js/typeahead.jquery.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/jquery-placeholder/jquery.placeholder.js') }}"></script>

        {{-- Drop and upload image --}}
        <script src="{{ asset('public/themeforest/global/vendor/jquery-ui/jquery-ui.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-tmpl/tmpl.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-canvas-to-blob/canvas-to-blob.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-load-image/load-image.all.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-file-upload/jquery.fileupload.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-file-upload/jquery.fileupload-process.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-file-upload/jquery.fileupload-image.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-file-upload/jquery.fileupload-audio.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-file-upload/jquery.fileupload-video.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-file-upload/jquery.fileupload-validate.js') }}">
        </script>
        <script src="{{ asset('public/themeforest/global/vendor/blueimp-file-upload/jquery.fileupload-ui.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/dropify/dropify.min.js') }}"></script>

        <!-- Scripts -->
        <script src="{{ asset('public/themeforest/global/js/Component.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Base.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Config.js') }}"></script>

        <script src="{{ asset('public/themeforest/page-base/js/Section/Menubar.js') }}"></script>
        <script src="{{ asset('public/themeforest/page-base/js/Section/GridMenu.js') }}"></script>
        <script src="{{ asset('public/themeforest/page-base/js/Section/Sidebar.js') }}"></script>
        <script src="{{ asset('public/themeforest/page-base/js/Section/PageAside.js') }}"></script>
        <script src="{{ asset('public/themeforest/page-base/js/Plugin/menu.js') }}"></script>

        <script src="{{ asset('public/themeforest/global/vendor/formvalidation/formValidation.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/formvalidation/framework/bootstrap4.min.js') }}"></script>

        <script src="{{ asset('public/themeforest/global/js/config/colors.js') }}"></script>
        <script src="{{ asset('public/themeforest/page-base/js/config/tour.js') }}"></script>
        <script>
            Config.set('assets', '{{ asset('public/themeforest/page-base') }}');

            $(document).ready(function() {
                $.ajaxSetup({
                    headers: {
                        'X-CSRF-TOKEN': $('meta[name="csrf-token"]').attr('content')
                    }
                });
            });
        </script>

        <!-- Page -->
        <script src="{{ asset('public/themeforest/page-base/js/Site.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/asscrollable.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/slidepanel.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/switchery.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/matchheight.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/peity.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/asselectable.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/selectable.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/table.js') }}"></script>

        <script src="{{ asset('public/themeforest/global/js/Plugin/select2.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/select2.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/bootstrap-tokenfield.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/bootstrap-tagsinput.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/bootstrap-select.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/icheck.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/switchery.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/asrange.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/ionrangeslider.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/asspinner.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/clockpicker.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/ascolorpicker.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/bootstrap-maxlength.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/jquery-knob.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/bootstrap-touchspin.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/card.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/jquery-labelauty.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/bootstrap-datepicker.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/jt-timepicker.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/datepair.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/jquery-strength.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/multi-select.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/jquery-placeholder.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/dropify.js') }}"></script>

        <script src="{{ asset('public/themeforest/global/vendor/toastr/toastr.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/toastr.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/webui-popover/jquery.webui-popover.min.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/vendor/toolbar/jquery.toolbar.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/webui-popover.js') }}"></script>
        <script src="{{ asset('public/themeforest/global/js/Plugin/toolbar.js') }}"></script>
        
        <script src="{{ asset('public/themeforest/global/js/Plugin/datatables.js') }}"></script>
        <script src="{{ asset('public/themeforest/page-base/examples/js/tables/datatable.js') }}"></script>
        <script src="{{ asset('public/themeforest/page-base/examples/js/uikit/icon.js') }}"></script>

        <script src="{{ asset('public/themeforest/page-base/examples/js/uikit/tooltip-popover.js') }}"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js" integrity="sha512-qTXRIMyZIFb8iQcfjXWCO8+M5Tbc38Qi5WzdPOYZHIlZpzBHG3L3by84BBBOiRGiEb7KKtAOAs5qYdUiZiQNNQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
        @yield('js')
        <script type="text/javascript">
            var carts = []

            $(document).ready(function() {
                toastr.options = {
                    progressBar: true,
                    positionClass: 'toast-bottom-right'
                }
            })
            @auth
                var table_cart;
                var user = {{Auth::user()->id}}
                table_cart = $('#table-cart-header').DataTable({
                    searching: false,
                    processing: true,
                    serverSide: true,
                    searching: false,
                    paging: false,
                    bInfo: false,
                    ajax: {
                        url: '{{route('json_cartAll')}}',
                        type: "POST",
                        data: function (d) {
                            d._token = "{{ csrf_token() }}";
                            d.user = user;
                        }
                    },
                    columns: [
                        { data: 'name' },
                        { data: 'qty' },
                        { data: 'total' },
                        {
                            data: null,
                            render: function(data, type, full, meta){
                                return '<a href="#" data-cart-id="'+data['id']+'" onclick="deleteThis(event)" class="btn btn-sm text-white btn-visitor-delete" style="background:#e74c3c">Hapus</a>';
                            }
                        },
                    ],
                });
                function deleteThis(e){
                    $.ajax({
                        type:'post',
                        url:'{{route('delete_cart')}}',
                        data:{
                            "_token": "{{ csrf_token() }}",
                            cart_id:e.target.getAttribute('data-cart-id'),
                            users : user,
                        },
                        success:function(){
                            table_cart.ajax.reload()
                            cart_count()
                            // cart()
                            if (data == 0) {
                                document.getElementById("btn-buy").disabled = true;
                            }
                        },
                        error: function(e){
                            alert(e.error);
                        }
                    });
                }
                $( document ).ready(function() {
                    // cart()
                    cart_count()
                    var user = {{Auth::user()->id}}
                    $('#btn-buy').click(function(){
                        var user = {{Auth::user()->id}}
                        $.ajax({
                            url:"{{ route('storeOrder') }}",
                            method:'POST',
                            data:{
                                "_token": "{{ csrf_token() }}",
                                id_user : user
                            },
                            dataType:'json',
                            success:function(data){
                                table_cart.clear().draw();
                                // cart()
                                cart_count()
                                toastr["success"]('Transaksi sukses')
                                $('#validasiNotifikasi').modal('hide');
                            },
                            error: (err) => {
                                toastr["error"]('Transaksi gagal')
                            }
                        })
                    })
                    $('#span-checkout').click(function() {
                        table_cart.reload();
                    })
                });
                function cart(){
                    var user = {{Auth::user()->id}}
                    $.ajax({
                        url:"{{ route('cartData') }}",
                        method:'POST',
                        data:{
                            "_token": "{{ csrf_token() }}",
                            id_user : user
                        },
                        dataType:'json',
                        success:function(data){
                            $('#products').html(data.cart_data)
                        }
                    })
                }
                function cart_count(){
                    var user = {{Auth::user()->id}}
                    $.ajax({
                        url:"{{route('cartData')}}",
                        method:"POST",
                        data:{
                            "_token": "{{ csrf_token() }}",
                            id_user : user
                        },
                        dataType:'json',
                        success:function(data){
                            if (data.get_total > 0) {
                                document.getElementById("btn-buy").disabled = false;
                            }
                            $("#keranjang_count").text(data.get_total)
                            $("#nominal-total").text(data.total_harga)
                            cart()
                        }
                    });
                }
            @endauth
        </script>
    </body>

</html>
